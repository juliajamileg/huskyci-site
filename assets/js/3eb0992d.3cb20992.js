"use strict";(self.webpackChunkhusky_site=self.webpackChunkhusky_site||[]).push([[193],{3905:(t,e,n)=>{n.d(e,{Zo:()=>m,kt:()=>s});var a=n(7294);function r(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function i(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,a)}return n}function o(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?i(Object(n),!0).forEach((function(e){r(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function p(t,e){if(null==t)return{};var n,a,r=function(t,e){if(null==t)return{};var n,a,r={},i=Object.keys(t);for(a=0;a<i.length;a++)n=i[a],e.indexOf(n)>=0||(r[n]=t[n]);return r}(t,e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)n=i[a],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}var d=a.createContext({}),l=function(t){var e=a.useContext(d),n=e;return t&&(n="function"==typeof t?t(e):o(o({},e),t)),n},m=function(t){var e=l(t.components);return a.createElement(d.Provider,{value:e},t.children)},c="mdxType",N={inlineCode:"code",wrapper:function(t){var e=t.children;return a.createElement(a.Fragment,{},e)}},k=a.forwardRef((function(t,e){var n=t.components,r=t.mdxType,i=t.originalType,d=t.parentName,m=p(t,["components","mdxType","originalType","parentName"]),c=l(n),k=r,s=c["".concat(d,".").concat(k)]||c[k]||N[k]||i;return n?a.createElement(s,o(o({ref:e},m),{},{components:n})):a.createElement(s,o({ref:e},m))}));function s(t,e){var n=arguments,r=e&&e.mdxType;if("string"==typeof t||r){var i=n.length,o=new Array(i);o[0]=k;var p={};for(var d in e)hasOwnProperty.call(e,d)&&(p[d]=e[d]);p.originalType=t,p[c]="string"==typeof t?t:r,o[1]=p;for(var l=2;l<i;l++)o[l]=n[l];return a.createElement.apply(null,o)}return a.createElement.apply(null,n)}k.displayName="MDXCreateElement"},5531:(t,e,n)=>{n.r(e),n.d(e,{assets:()=>d,contentTitle:()=>o,default:()=>N,frontMatter:()=>i,metadata:()=>p,toc:()=>l});var a=n(7462),r=(n(7294),n(3905));const i={id:"env-vars",title:"Environment Variables"},o=void 0,p={unversionedId:"api/env-vars",id:"api/env-vars",title:"Environment Variables",description:"This section describes each environment variable that is used by HuskyCI API. Use your own organization configuration in each of them.",source:"@site/docs/api/env-vars.md",sourceDirName:"api",slug:"/api/env-vars",permalink:"/docs/api/env-vars",draft:!1,tags:[],version:"current",frontMatter:{id:"env-vars",title:"Environment Variables"},sidebar:"docs",previous:{title:"Routes",permalink:"/docs/api/routes"},next:{title:"About the Documentation",permalink:"/docs/feedback/about"}},d={},l=[{value:"Required",id:"required",level:2},{value:"Optional",id:"optional",level:2}],m={toc:l},c="wrapper";function N(t){let{components:e,...n}=t;return(0,r.kt)(c,(0,a.Z)({},m,n,{components:e,mdxType:"MDXLayout"}),(0,r.kt)("p",null,"This section describes each environment variable that is used by HuskyCI API. Use your own organization configuration in each of them."),(0,r.kt)("h2",{id:"required"},"Required"),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:null},"Name"),(0,r.kt)("th",{parentName:"tr",align:"center"},"Description"),(0,r.kt)("th",{parentName:"tr",align:"center"},"Example"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("strong",{parentName:"td"},"HUSKYCI_DATABASE_DB_ADDR")),(0,r.kt)("td",{parentName:"tr",align:"center"},"DB server address"),(0,r.kt)("td",{parentName:"tr",align:"center"},"10.10.10.12")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("strong",{parentName:"td"},"HUSKYCI_DATABASE_DB_NAME")),(0,r.kt)("td",{parentName:"tr",align:"center"},"DB name"),(0,r.kt)("td",{parentName:"tr",align:"center"},"huskyCI-DB-123")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("strong",{parentName:"td"},"HUSKYCI_DATABASE_DB_USERNAME")),(0,r.kt)("td",{parentName:"tr",align:"center"},"DB username"),(0,r.kt)("td",{parentName:"tr",align:"center"},"huskyCI-User-123")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("strong",{parentName:"td"},"HUSKYCI_DATABASE_DB_PASSWORD")),(0,r.kt)("td",{parentName:"tr",align:"center"},"DB password"),(0,r.kt)("td",{parentName:"tr",align:"center"},"1w1lln0tU53th15p455w0rd")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("strong",{parentName:"td"},"HUSKYCI_API_DEFAULT_USERNAME")),(0,r.kt)("td",{parentName:"tr",align:"center"},"API Admin username"),(0,r.kt)("td",{parentName:"tr",align:"center"},"huskyCIAdmin")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("strong",{parentName:"td"},"HUSKYCI_API_DEFAULT_PASSWORD")),(0,r.kt)("td",{parentName:"tr",align:"center"},"API Admin password"),(0,r.kt)("td",{parentName:"tr",align:"center"},"huskyCIPassword")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("strong",{parentName:"td"},"HUSKYCI_API_ALLOW_ORIGIN_CORS")),(0,r.kt)("td",{parentName:"tr",align:"center"},"CORS domanis"),(0,r.kt)("td",{parentName:"tr",align:"center"},(0,r.kt)("a",{parentName:"td",href:"https://huskyci.myorg.com"},"https://huskyci.myorg.com"))),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("strong",{parentName:"td"},"HUSKYCI_DOCKERAPI_ADDR")),(0,r.kt)("td",{parentName:"tr",align:"center"},"Docker API host address"),(0,r.kt)("td",{parentName:"tr",align:"center"},"10.10.10.13")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("strong",{parentName:"td"},"HUSKYCI_DOCKERAPI_CERT_PATH")),(0,r.kt)("td",{parentName:"tr",align:"center"},"Path which contains certificates generated"),(0,r.kt)("td",{parentName:"tr",align:"center"},"/go/src/github.com/globocom/huskyCI/")))),(0,r.kt)("h2",{id:"optional"},"Optional"),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:"center"},"Name"),(0,r.kt)("th",{parentName:"tr",align:"center"},"Description"),(0,r.kt)("th",{parentName:"tr",align:"center"},"Default Value"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"center"},"HUSKYCI_API_DEFAULT_HASH_FUNCTION"),(0,r.kt)("td",{parentName:"tr",align:"center"},"Hash function used"),(0,r.kt)("td",{parentName:"tr",align:"center"},"SHA512")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"center"},"HUSKYCI_API_DEFAULT_ITERATIONS"),(0,r.kt)("td",{parentName:"tr",align:"center"},"PBKDF2 Number of iterations"),(0,r.kt)("td",{parentName:"tr",align:"center"},"100000")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"center"},"HUSKYCI_API_DEFAULT_KEY_LENGTH"),(0,r.kt)("td",{parentName:"tr",align:"center"},"PBKDF2 Key length"),(0,r.kt)("td",{parentName:"tr",align:"center"},"512")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"center"},"HUSKYCI_API_PORT"),(0,r.kt)("td",{parentName:"tr",align:"center"},"huskyCI API port"),(0,r.kt)("td",{parentName:"tr",align:"center"},"8888")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"center"},"HUSKYCI_API_ALLOW_ORIGIN_CORS"),(0,r.kt)("td",{parentName:"tr",align:"center"},"Domain to set CORS configuration"),(0,r.kt)("td",{parentName:"tr",align:"center"},"localhost")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"center"},"HUSKYCI_API_ENABLE_HTTPS"),(0,r.kt)("td",{parentName:"tr",align:"center"},"Bool to initiate huskyCI API using TLS"),(0,r.kt)("td",{parentName:"tr",align:"center"},"false")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"center"},"HUSKYCI_API_GIT_PRIVATE_SSH_KEY"),(0,r.kt)("td",{parentName:"tr",align:"center"},"Private SSH key used to clone authenticated git repositories"),(0,r.kt)("td",{parentName:"tr",align:"center"},'""')),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"center"},"HUSKYCI_API_GIT_SSH_URL"),(0,r.kt)("td",{parentName:"tr",align:"center"},"Internal SSH URL that GoSec will use for cloning the internal repo"),(0,r.kt)("td",{parentName:"tr",align:"center"},'""')),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"center"},"HUSKYCI_API_GIT_URL_TO_SUBSTITUTE"),(0,r.kt)("td",{parentName:"tr",align:"center"},"Internal repository HTTPS URL to be substituted by the SSH one"),(0,r.kt)("td",{parentName:"tr",align:"center"},'""')),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"center"},"HUSKYCI_LOGGING_GRAYLOG_ADDR"),(0,r.kt)("td",{parentName:"tr",align:"center"},"Graylog server address"),(0,r.kt)("td",{parentName:"tr",align:"center"},'""')),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"center"},"HUSKYCI_LOGGING_GRAYLOG_PROTO"),(0,r.kt)("td",{parentName:"tr",align:"center"},"Protocol used to send events to graylog"),(0,r.kt)("td",{parentName:"tr",align:"center"},'"" (use ',(0,r.kt)("inlineCode",{parentName:"td"},"tcp")," or ",(0,r.kt)("inlineCode",{parentName:"td"},"udp"),")")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"center"},"HUSKYCI_LOGGING_GRAYLOG_APP_NAME"),(0,r.kt)("td",{parentName:"tr",align:"center"},"App name used for logging"),(0,r.kt)("td",{parentName:"tr",align:"center"},'""')),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"center"},"HUSKYCI_LOGGING_GRAYLOG_TAG"),(0,r.kt)("td",{parentName:"tr",align:"center"},"Tag to be sent on GLEF"),(0,r.kt)("td",{parentName:"tr",align:"center"},'""')),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"center"},"HUSKYCI_LOGGING_GRAYLOG_DEV"),(0,r.kt)("td",{parentName:"tr",align:"center"},"If set to true, log is printed to STDOUT and not sent to Graylog"),(0,r.kt)("td",{parentName:"tr",align:"center"},'"" (use ',(0,r.kt)("inlineCode",{parentName:"td"},"true")," or ",(0,r.kt)("inlineCode",{parentName:"td"},"false"),")")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"center"},"HUSKYCI_DATABASE_TYPE"),(0,r.kt)("td",{parentName:"tr",align:"center"},"Database type"),(0,r.kt)("td",{parentName:"tr",align:"center"},"mongodb (use ",(0,r.kt)("inlineCode",{parentName:"td"},"postgresql")," or ",(0,r.kt)("inlineCode",{parentName:"td"},"mongodb"),")")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"center"},"HUSKYCI_DATABASE_DB_MAX_OPEN_CONNS"),(0,r.kt)("td",{parentName:"tr",align:"center"},"Number of max allowed DB open connections"),(0,r.kt)("td",{parentName:"tr",align:"center"},"1")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"center"},"HUSKYCI_DATABASE_DB_MAX_IDLE_CONNS"),(0,r.kt)("td",{parentName:"tr",align:"center"},"Number of max allowed DB idle"),(0,r.kt)("td",{parentName:"tr",align:"center"},"1")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"center"},"HUSKYCI_DATABASE_DB_CONN_MAXLIFETIME"),(0,r.kt)("td",{parentName:"tr",align:"center"},"Number of max duration of a DB connection"),(0,r.kt)("td",{parentName:"tr",align:"center"},(0,r.kt)("inlineCode",{parentName:"td"},"time.hour")," (use nanoseconds)")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"center"},"HUSKYCI_DATABASE_DB_PORT"),(0,r.kt)("td",{parentName:"tr",align:"center"},"Database port"),(0,r.kt)("td",{parentName:"tr",align:"center"},"27017")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"center"},"HUSKYCI_DATABASE_DB_TIMEOUT"),(0,r.kt)("td",{parentName:"tr",align:"center"},"Database timeout"),(0,r.kt)("td",{parentName:"tr",align:"center"},"60 (use seconds)")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"center"},"HUSKYCI_DATABASE_DB_POOL_LIMIT"),(0,r.kt)("td",{parentName:"tr",align:"center"},"Database Pool Limit"),(0,r.kt)("td",{parentName:"tr",align:"center"},"1000")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"center"},"HUSKYCI_DOCKERAPI_PORT"),(0,r.kt)("td",{parentName:"tr",align:"center"},"Docker API port"),(0,r.kt)("td",{parentName:"tr",align:"center"},"2376")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"center"},"HUSKYCI_DOCKERAPI_TLS_VERIFY"),(0,r.kt)("td",{parentName:"tr",align:"center"},"Boolean to verify TLS certificates at Docker API host"),(0,r.kt)("td",{parentName:"tr",align:"center"},"1 (use ",(0,r.kt)("inlineCode",{parentName:"td"},"1"),", ",(0,r.kt)("inlineCode",{parentName:"td"},"0")," or ",(0,r.kt)("inlineCode",{parentName:"td"},"true"),", ",(0,r.kt)("inlineCode",{parentName:"td"},"false"),")")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"center"},"HUSKYCI_DOCKERAPI_CERT_FILE_VALUE"),(0,r.kt)("td",{parentName:"tr",align:"center"},"Content of ",(0,r.kt)("inlineCode",{parentName:"td"},"cert.pem")," certificate. To be used if deploying in Tsuru without the need to pass ",(0,r.kt)("inlineCode",{parentName:"td"},"cert.pem")," as part of the command."),(0,r.kt)("td",{parentName:"tr",align:"center"},'"" (use ',(0,r.kt)("inlineCode",{parentName:"td"},"-----BEGIN CERTIFICATE----- ... -----END CERTIFICATE-----"),")")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"center"},"HUSKYCI_DOCKERAPI_CERT_KEY_VALUE"),(0,r.kt)("td",{parentName:"tr",align:"center"},"Content of ",(0,r.kt)("inlineCode",{parentName:"td"},"key.pem")," key. To be used if deploying in Tsuru without the need to pass ",(0,r.kt)("inlineCode",{parentName:"td"},"key.pem")," as part of the command."),(0,r.kt)("td",{parentName:"tr",align:"center"},'"" (use ',(0,r.kt)("inlineCode",{parentName:"td"},"-----BEGIN RSA PRIVATE KEY----- ... -----END RSA PRIVATE KEY-----"),")")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"center"},"HUSKYCI_DOCKERAPI_API_TLS_CERT_VALUE"),(0,r.kt)("td",{parentName:"tr",align:"center"},"Content of ",(0,r.kt)("inlineCode",{parentName:"td"},"api-tls-cert.pem")," certificate. To be used if deploying in Tsuru without the need to pass ",(0,r.kt)("inlineCode",{parentName:"td"},"api-tls-cert.pem")," as part of the command."),(0,r.kt)("td",{parentName:"tr",align:"center"},'"" (use ',(0,r.kt)("inlineCode",{parentName:"td"},"-----BEGIN CERTIFICATE----- ... -----END CERTIFICATE-----"),")")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"center"},"HUSKYCI_DOCKERAPI_API_TLS_KEY_VALUE"),(0,r.kt)("td",{parentName:"tr",align:"center"},"Content of ",(0,r.kt)("inlineCode",{parentName:"td"},"api-tls-key.pem")," key. To be used when deploying in Tsuru without the need to pass ",(0,r.kt)("inlineCode",{parentName:"td"},"api-tls-key.pem")," as part of the command."),(0,r.kt)("td",{parentName:"tr",align:"center"},'"" (use ',(0,r.kt)("inlineCode",{parentName:"td"},"-----BEGIN PRIVATE KEY----- ... -----END PRIVATE KEY-----"),")")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"center"},"HUSKYCI_DOCKERAPI_CERT_CA_VALUE"),(0,r.kt)("td",{parentName:"tr",align:"center"},"Content of ",(0,r.kt)("inlineCode",{parentName:"td"},"ca.pem")," certificate. To be used when deploying in Tsuru without the need to pass ",(0,r.kt)("inlineCode",{parentName:"td"},"ca.pem")," as part of the command."),(0,r.kt)("td",{parentName:"tr",align:"center"},'"" ( use ',(0,r.kt)("inlineCode",{parentName:"td"},"-----BEGIN CERTIFICATE----- ... -----END CERTIFICATE-----"),")")))))}N.isMDXComponent=!0}}]);